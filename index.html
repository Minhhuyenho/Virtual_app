<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VirtualStyle - Try On Prototype</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <div class="top-bar">
      <h1>VirtualStyle</h1>
      <div class="top-buttons">
        <button id="captureBtn">ðŸ“· Take Photo</button>
      </div>
    </div>

    <div class="camera-wrap">
      <video id="video" autoplay playsinline></video>
      <canvas id="canvas"></canvas>
      <img id="uploadedImg" style="display: none;" />
      <div class="status" id="status">Initializing face detection...</div>
    </div>

    <div class="controls">
      <div class="action-buttons">
        <button id="saveBtn" class="save-btn">ðŸ’¾ Save Image</button>
        <button id="backToCameraBtn" class="back-btn" style="display: none;">ðŸ“· Back to Camera</button>
      </div>
      <div class="thumbnails">
        <button class="thumb" data-src="assets/glasses.png" data-type="glasses">Glasses</button>
        <button class="thumb" data-src="assets/hat.png" data-type="hat">Hat</button>
        <button class="thumb" data-src="assets/shirt.png" data-type="shirt">Shirt</button>
        <button class="thumb" data-src="assets/hello_kitty_glasses.png" data-type="glasses">Hello Kitty Glasses</button>
        <button class="thumb" data-src="assets/oval_black_glasses.png" data-type="glasses">Oval Black Glasses</button>
        <button class="thumb" data-src="assets/round_black_glasses.png" data-type="glasses">Round Black Glasses</button>
        <button class="thumb" data-src="assets/square_red_glasses.png" data-type="glasses">Square Red Glasses</button>
        <button class="thumb" data-src="assets/eyelash.png" data-type="glasses">Eyelash</button>
        <button class="thumb" data-src="assets/blue_woolen_hat.png" data-type="hat">Blue Woolen Hat</button>
        <button class="thumb" data-src="assets/long_braided_hair.png" data-type="hat">Long Braided Hair</button>
        <button class="thumb" data-src="assets/long_curved_hair.png" data-type="hat">Long Curved Hair</button>
        <button class="thumb" data-src="assets/black_office_wear_women.png" data-type="shirt">Black Office Wear</button>
        <button class="thumb" data-src="assets/green_office_wear_winter_women.png" data-type="shirt">Green Office Wear</button>
        <button class="thumb" data-src="assets/navy_suit_man.png" data-type="shirt">Navy Suit</button>
        <button class="thumb" data-src="assets/office_wear_women.png" data-type="shirt">Office Wear</button>
        <button class="thumb" data-src="assets/pink_bodycon_dress.png" data-type="shirt">Pink Bodycon Dress</button>
        <button class="thumb" data-src="assets/pink_suit_man.png" data-type="shirt">Pink Suit</button>
        <button class="thumb" data-src="assets/suit_with_bow_tie.png" data-type="shirt">Suit with Bow Tie</button>
        <button class="thumb" data-src="assets/white_dress.png" data-type="shirt">White Dress</button>
        <button class="thumb" data-src="" data-type="">Remove</button>
      </div>
      <div class="sliders">
        <label>Size Scale <input id="scale" type="range" min="0.5" max="2.5" step="0.05" value="1.0"></label>
        <label>Vertical Offset <input id="offY" type="range" min="-0.5" max="0.5" step="0.01" value="0.0"></label>
      </div>
      <div class="info-text">ðŸ’¡ Tip: Adjust scale (0.5x - 2.5x) to fit your face perfectly!</div>
    </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
<script>
  // Wait for MediaPipe to load before starting the app
  if (typeof window !== 'undefined') {
    window.addEventListener('load', () => {
      if (typeof FaceMesh === 'undefined') {
        document.getElementById('status').textContent = 'Error loading face detection. Please refresh the page.';
        document.getElementById('status').className = 'status error';
      }
    });
  }
</script>
<script src="app.js"></script>
</body>
</html>
